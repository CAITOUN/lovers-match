<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculate your love compatibility based on Chinese Zodiac and BaZi. Discover your cosmic connection with our free compatibility calculator.">
    <meta name="keywords" content="love compatibility, Chinese zodiac, BaZi, relationship calculator, compatibility test">
    <link rel="canonical" href="https://loversmatchs.org">
    <meta property="og:title" content="Love Compatibility Calculator">
    <meta property="og:description" content="Discover your cosmic connection with our free Chinese Zodiac compatibility calculator">
    <meta property="og:url" content="https://loversmatchs.org">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>❤️</text></svg>">
    <title>Love Compatibility Calculator - loversmatchs.org</title>
    <style>
        /* 全局样式 */
        :root {
            --apple-blue: #0071e3;
            --apple-light-blue: #64a7ff;
            --apple-pink: #ff375f;
            --apple-light-pink: #ffd3dc;
            --apple-green: #34c759;
            --apple-light-green: #d4f8e5;
            --apple-orange: #ff9500;
            --apple-light-gray: #f5f5f7;
            --apple-medium-gray: #86868b;
            --apple-dark-gray: #1d1d1f;
            --main-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--main-font);
            line-height: 1.5;
            color: var(--apple-dark-gray);
            background-color: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 头部样式 */
        header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(to right, var(--apple-pink), var(--apple-blue));
            color: white;
            border-radius: 12px;
            margin-bottom: 40px;
            position: relative;
        }
        
        .site-logo {
            position: absolute;
            top: 15px;
            right: 15px;
        }
        
        .site-logo a {
            color: white;
            font-weight: 500;
            text-decoration: none;
            font-size: 1.1rem;
            transition: color 0.3s;
            opacity: 0.8;
        }
        
        .site-logo a:hover {
            opacity: 1;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        header p {
            font-size: 1.2rem;
            font-weight: 300;
        }
        
        /* 主要内容样式 */
        section {
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 12px;
            background-color: var(--apple-light-gray);
        }
        
        .intro {
            text-align: center;
        }
        
        .intro h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--apple-dark-gray);
        }
        
        .intro p {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
            color: var(--apple-medium-gray);
        }
        
        /* 计算器样式 */
        .calculator {
            background-color: white;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        .input-section h3 {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.5rem;
            color: var(--apple-dark-gray);
        }
        
        .date-inputs {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 20px;
        }
        
        .person {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            border-radius: 10px;
            background-color: var(--apple-light-gray);
            transition: transform 0.3s;
        }
        
        .person:hover {
            transform: translateY(-5px);
        }
        
        .person h4 {
            text-align: center;
            margin-bottom: 15px;
            color: var(--apple-dark-gray);
        }
        
        .date-picker {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        
        select {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            appearance: none;
            background-color: white;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 1em;
        }
        
        select:focus {
            outline: none;
            border-color: var(--apple-blue);
            box-shadow: 0 0 0 2px rgba(0, 113, 227, 0.2);
        }
        
        button {
            display: block;
            margin: 30px auto 0;
            padding: 15px 30px;
            background-color: var(--apple-blue);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        button:hover {
            background-color: var(--apple-light-blue);
            transform: scale(1.05);
        }
        
        /* 结果样式 */
        .result-section {
            display: none;
            padding: 30px;
            border-radius: 10px;
            background-color: var(--apple-light-gray);
            margin-top: 30px;
            text-align: center;
        }
        
        .result-section.active {
            display: block;
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-header {
            margin-bottom: 20px;
        }
        
        .result-header h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--apple-dark-gray);
        }
        
        .compatibility-score {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: conic-gradient(var(--apple-green) 0%, var(--apple-green) var(--score), #f0f0f0 var(--score), #f0f0f0 100%);
            position: relative;
        }
        
        .compatibility-score::before {
            content: "";
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: white;
        }
        
        .score-text {
            position: relative;
            z-index: 1;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--apple-dark-gray);
        }
        
        .compatibility-details {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 30px;
            gap: 20px;
        }
        
        .compatibility-item {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        
        .compatibility-item h4 {
            margin-bottom: 10px;
            color: var(--apple-dark-gray);
        }
        
        .compatibility-item p {
            color: var(--apple-medium-gray);
        }
        
        /* 解释部分样式 */
        .explanation {
            padding: 40px;
            margin-top: 40px;
            background-color: var(--apple-light-gray);
            border-radius: 16px;
        }
        
        .explanation h2 {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.2rem;
            color: var(--apple-dark-gray);
        }
        
        .explanation-content {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }
        
        .zodiac-info, .bazi-info {
            flex: 1;
            min-width: 300px;
            padding: 35px;
            border-radius: 16px;
            background-color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        }
        
        .zodiac-info h3, .bazi-info h3 {
            margin-bottom: 25px;
            color: var(--apple-blue);
            font-size: 1.6rem;
        }
        
        .zodiac-info h4, .bazi-info h4 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: var(--apple-dark-gray);
            font-size: 1.3rem;
        }
        
        .zodiac-info p, .bazi-info p {
            line-height: 1.8;
            margin-bottom: 20px;
            color: #333;
            font-size: 1.05rem;
        }
        
        .zodiac-info ul, .bazi-info ul {
            padding-left: 20px;
            margin-bottom: 25px;
            line-height: 1.7;
        }
        
        .zodiac-info li, .bazi-info li {
            margin-bottom: 12px;
            padding-left: 5px;
        }
        
        /* 新增的生肖网格布局 */
        .zodiac-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .zodiac-item {
            background-color: var(--apple-light-gray);
            padding: 12px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .zodiac-item:hover {
            background-color: var(--apple-light-pink);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        /* BaZi因素布局 */
        .bazi-factors {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .bazi-factor {
            background-color: var(--apple-light-gray);
            border-radius: 12px;
            padding: 18px;
            transition: all 0.3s ease;
        }
        
        .bazi-factor:hover {
            background-color: var(--apple-light-blue);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .factor-title {
            margin-bottom: 10px;
            color: var(--apple-dark-gray);
            font-size: 1.05rem;
        }
        
        .factor-desc {
            color: var(--apple-medium-gray);
            line-height: 1.5;
            font-size: 0.95rem;
        }
        
        /* 页脚样式 */
        footer {
            text-align: center;
            padding: 20px;
            color: var(--apple-medium-gray);
            font-size: 0.9rem;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            header {
                padding: 30px 0;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            section {
                padding: 20px;
            }
            
            .intro h2 {
                font-size: 1.6rem;
            }
            
            .compatibility-score {
                width: 120px;
                height: 120px;
            }
            
            .compatibility-score::before {
                width: 90px;
                height: 90px;
            }
            
            .score-text {
                font-size: 2rem;
            }
            
            /* 解释部分的移动设备优化 */
            .explanation {
                padding: 25px 15px;
            }
            
            .explanation h2 {
                font-size: 1.8rem;
                margin-bottom: 25px;
            }
            
            .zodiac-info, .bazi-info {
                padding: 20px;
            }
            
            .zodiac-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
            }
            
            .bazi-factors {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .zodiac-item, .bazi-factor {
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Cosmic Love Connection</h1>
            <p>Discover Your Destiny Based on Ancient Chinese Wisdom</p>
            <div class="site-logo">
                <a href="https://loversmatchs.org" title="loversmatchs.org">loversmatchs.org</a>
            </div>
        </header>
        
        <main>
            <section class="intro">
                <h2>Discover Your Celestial Connection</h2>
                <p>In Chinese tradition, the Zodiac and BaZi are mystical keys to predicting emotional harmony between two souls. Enter your birthdays, and we'll reveal your zodiac compatibility, elemental balance, and provide a comprehensive analysis of your connection. Every relationship is a cosmic miracle carefully woven by the universe - unlock your love's hidden code now!</p>
            </section>
            
            <section class="calculator">
                <div class="input-section">
                    <h3>Enter Your Birthdays to Unveil Your Cosmic Bond</h3>
                    <div class="date-inputs">
                        <div class="person">
                            <h4>Your Birthday</h4>
                            <div class="date-picker">
                                <select id="year1">
                                    <!-- Years will be generated by JavaScript -->
                                </select>
                                <select id="month1">
                                    <!-- Months will be generated by JavaScript -->
                                </select>
                                <select id="day1">
                                    <!-- Days will be generated by JavaScript -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="person">
                            <h4>Your Partner's Birthday</h4>
                            <div class="date-picker">
                                <select id="year2">
                                    <!-- Years will be generated by JavaScript -->
                                </select>
                                <select id="month2">
                                    <!-- Months will be generated by JavaScript -->
                                </select>
                                <select id="day2">
                                    <!-- Days will be generated by JavaScript -->
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <button id="calculate-btn">Reveal Your Cosmic Connection</button>
                </div>
                
                <div class="result-section" id="result-section">
                    <!-- 结果将在这里显示 -->
                </div>
            </section>
            
            <section class="explanation">
                <h2>The Mystical Secrets of Chinese Zodiac & BaZi Love Matching</h2>
                <div class="explanation-content">
                    <div class="zodiac-info">
                        <h3>Chinese Zodiac - The Love Code</h3>
                        <p>The Chinese zodiac encompasses twelve animal signs, each representing unique personality traits and destiny paths. Zodiac compatibility is not just ancient wisdom crystallized, but a mystical code revealing the emotional harmony between two people, giving us a glimpse into the divine plan.</p>
                        
                        <h4>Compatibility Rules</h4>
                        <p>Zodiac matching is primarily based on these principles:</p>
                        <ul>
                            <li><strong>Trines (三合):</strong> Animals four years apart form the most harmonious relationships. 
                                <br>Example: Rat, Dragon, and Monkey create a "trinity of harmony."</li>
                            <li><strong>Six Harmonies (六合):</strong> Signs six years apart form balanced partnerships.
                                <br>Example: Rat with Ox, Tiger with Pig.</li>
                            <li><strong>Opposites (相冲):</strong> Signs six positions apart may experience relationship tension.
                                <br>Example: Rat with Horse, Ox with Sheep.</li>
                            <li><strong>Penalties (相刑):</strong> Certain signs naturally present relationship challenges.
                                <br>Example: Dragon with Dog, Snake with Pig.</li>
                        </ul>
                        
                        <h4>Zodiac Personality Traits</h4>
                        <p>Each zodiac sign represents different personality characteristics:</p>
                        <div class="zodiac-grid">
                            <div class="zodiac-item"><strong>Rat:</strong> The "Prosperity Guardian" - clever and resourceful</div>
                            <div class="zodiac-item"><strong>Ox:</strong> The "Steadfast Protector" - determined and reliable</div>
                            <div class="zodiac-item"><strong>Tiger:</strong> The "Royal Warrior" - brave and commanding</div>
                            <div class="zodiac-item"><strong>Rabbit:</strong> The "Moonlight Enchanter" - gentle and romantic</div>
                            <div class="zodiac-item"><strong>Dragon:</strong> The "Celestial Heir" - charismatic and powerful</div>
                            <div class="zodiac-item"><strong>Snake:</strong> The "Wisdom Keeper" - insightful and mysterious</div>
                            <div class="zodiac-item"><strong>Horse:</strong> The "Prairie Spirit" - energetic and free-spirited</div>
                            <div class="zodiac-item"><strong>Goat:</strong> The "Artistic Soul" - creative and compassionate</div>
                            <div class="zodiac-item"><strong>Monkey:</strong> The "Clever Trickster" - versatile and witty</div>
                            <div class="zodiac-item"><strong>Rooster:</strong> The "Time Guardian" - meticulous and precise</div>
                            <div class="zodiac-item"><strong>Dog:</strong> The "Loyal Defender" - faithful and protective</div>
                            <div class="zodiac-item"><strong>Pig:</strong> The "Happiness Ambassador" - generous and optimistic</div>
                        </div>
                    </div>
                    
                    <div class="bazi-info">
                        <h3>BaZi - The Celestial Book of Fate</h3>
                        <p>BaZi, also known as "Four Pillars," is a destiny calculation system based on a person's birth year, month, day, and hour. BaZi matching provides a more comprehensive analysis including the Five Elements theory, like a cosmic bond carefully woven by the universe for each pair of lovers.</p>
                        
                        <h4>Five Elements Relationships</h4>
                        <p>The core concept of BaZi matching is the interaction between the Five Elements:</p>
                        <ul>
                            <li><strong>Generating Cycle:</strong> 
                                <br>Wood → Fire → Earth → Metal → Water → Wood
                                <br><em>(Each element creates or nourishes the next)</em>
                            </li>
                            <li><strong>Controlling Cycle:</strong> 
                                <br>Wood ⊣ Earth ⊣ Water ⊣ Fire ⊣ Metal ⊣ Wood
                                <br><em>(Each element controls or restricts another)</em>
                            </li>
                        </ul>
                        
                        <h4>BaZi Matching Elements</h4>
                        <p>BaZi matching considers more than just zodiac signs, analyzing:</p>
                        <div class="bazi-factors">
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Day Master's Element</strong></div>
                                <div class="factor-desc">The core of your chart, determining your dominant personality in relationships</div>
                            </div>
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Year Pillar's Branch</strong></div>
                                <div class="factor-desc">Reflects your family background and social influence - the "match made in heaven" factor</div>
                            </div>
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Hour Pillar's Branch</strong></div>
                                <div class="factor-desc">Your inner qualities and desires, determining your relationship's long-term potential</div>
                            </div>
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Birth Year's Element</strong></div>
                                <div class="factor-desc">Your innate energy attributes, influencing compatibility and conflicts in your relationship</div>
                            </div>
                        </div>
                        
                        <h4>Marriage Compatibility Assessment</h4>
                        <p>Traditional BaZi marriage matching primarily examines:</p>
                        <div class="bazi-factors">
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Three Talents Configuration</strong></div>
                                <div class="factor-desc">Perfect harmony of Heaven, Earth, and Human factors - determining the strength and destiny of your connection</div>
                            </div>
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Five Elements Balance</strong></div>
                                <div class="factor-desc">The complementary harmony of your energy fields, like yin and yang blending in perfect unity</div>
                            </div>
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Special Combinations</strong></div>
                                <div class="factor-desc">Rare destiny patterns that might indicate a "fated connection" written in the stars</div>
                            </div>
                            <div class="bazi-factor">
                                <div class="factor-title"><strong>Fortune Cycles</strong></div>
                                <div class="factor-desc">The ups and downs of destiny and mutual growth - a love journey filled with both challenges and opportunities</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>Note: This website is for entertainment purposes only. Please don't use the results as a basis for important decisions. True love and mutual understanding are the keys to any relationship.</p>
            <p>&copy; <script>document.write(new Date().getFullYear())</script> <a href="https://loversmatchs.org" style="color: var(--apple-blue); text-decoration: none;">loversmatchs.org</a> All Rights Reserved.</p>
        </footer>
    </div>
    
    <script>
        // 生肖配对数据
        const zodiacCompatibility = {
            // 鼠
            '鼠': {
                '鼠': 80, '牛': 90, '虎': 60, '兔': 60, '龙': 95, '蛇': 60,
                '马': 30, '羊': 40, '猴': 95, '鸡': 60, '狗': 65, '猪': 80
            },
            // 牛
            '牛': {
                '鼠': 90, '牛': 70, '虎': 30, '兔': 65, '龙': 40, '蛇': 90,
                '马': 40, '羊': 20, '猴': 60, '鸡': 90, '狗': 70, '猪': 60
            },
            // 虎
            '虎': {
                '鼠': 60, '牛': 30, '虎': 50, '兔': 85, '龙': 85, '蛇': 40,
                '马': 90, '羊': 60, '猴': 30, '鸡': 50, '狗': 95, '猪': 90
            },
            // 兔
            '兔': {
                '鼠': 60, '牛': 65, '虎': 85, '兔': 75, '龙': 60, '蛇': 40,
                '马': 60, '羊': 90, '猴': 70, '鸡': 30, '狗': 90, '猪': 95
            },
            // 龙
            '龙': {
                '鼠': 95, '牛': 40, '虎': 85, '兔': 60, '龙': 70, '蛇': 80,
                '马': 70, '羊': 50, '猴': 90, '鸡': 85, '狗': 30, '猪': 65
            },
            // 蛇
            '蛇': {
                '鼠': 60, '牛': 90, '虎': 40, '兔': 40, '龙': 80, '蛇': 70,
                '马': 60, '羊': 70, '猴': 60, '鸡': 95, '狗': 60, '猪': 30
            },
            // 马
            '马': {
                '鼠': 30, '牛': 40, '虎': 90, '兔': 60, '龙': 70, '蛇': 60,
                '马': 50, '羊': 90, '猴': 70, '鸡': 40, '狗': 90, '猪': 60
            },
            // 羊
            '羊': {
                '鼠': 40, '牛': 20, '虎': 60, '兔': 90, '龙': 50, '蛇': 70,
                '马': 90, '羊': 70, '猴': 60, '鸡': 70, '狗': 40, '猪': 90
            },
            // 猴
            '猴': {
                '鼠': 95, '牛': 60, '虎': 30, '兔': 70, '龙': 90, '蛇': 60,
                '马': 70, '羊': 60, '猴': 80, '鸡': 70, '狗': 80, '猪': 40
            },
            // 鸡
            '鸡': {
                '鼠': 60, '牛': 90, '虎': 50, '兔': 30, '龙': 85, '蛇': 95,
                '马': 40, '羊': 70, '猴': 70, '鸡': 60, '狗': 40, '猪': 70
            },
            // 狗
            '狗': {
                '鼠': 65, '牛': 70, '虎': 95, '兔': 90, '龙': 30, '蛇': 60,
                '马': 90, '羊': 40, '猴': 80, '鸡': 40, '狗': 70, '猪': 85
            },
            // 猪
            '猪': {
                '鼠': 80, '牛': 60, '虎': 90, '兔': 95, '龙': 65, '蛇': 30,
                '马': 60, '羊': 90, '猴': 40, '鸡': 70, '狗': 85, '猪': 75
            }
        };

        // 五行配对数据
        const fiveElementsCompatibility = {
            '金': { '金': 70, '木': 40, '水': 90, '火': 30, '土': 80 },
            '木': { '金': 40, '木': 70, '水': 85, '火': 90, '土': 50 },
            '水': { '金': 90, '木': 85, '水': 70, '火': 40, '土': 30 },
            '火': { '金': 30, '木': 90, '水': 40, '火': 70, '土': 80 },
            '土': { '金': 80, '木': 50, '水': 30, '火': 80, '土': 70 }
        };

        // 生肖与出生年份对应表
        const zodiacYears = {
            '鼠': [1924, 1936, 1948, 1960, 1972, 1984, 1996, 2008, 2020],
            '牛': [1925, 1937, 1949, 1961, 1973, 1985, 1997, 2009, 2021],
            '虎': [1926, 1938, 1950, 1962, 1974, 1986, 1998, 2010, 2022],
            '兔': [1927, 1939, 1951, 1963, 1975, 1987, 1999, 2011, 2023],
            '龙': [1928, 1940, 1952, 1964, 1976, 1988, 2000, 2012, 2024],
            '蛇': [1929, 1941, 1953, 1965, 1977, 1989, 2001, 2013, 2025],
            '马': [1930, 1942, 1954, 1966, 1978, 1990, 2002, 2014, 2026],
            '羊': [1931, 1943, 1955, 1967, 1979, 1991, 2003, 2015, 2027],
            '猴': [1932, 1944, 1956, 1968, 1980, 1992, 2004, 2016, 2028],
            '鸡': [1933, 1945, 1957, 1969, 1981, 1993, 2005, 2017, 2029],
            '狗': [1934, 1946, 1958, 1970, 1982, 1994, 2006, 2018, 2030],
            '猪': [1935, 1947, 1959, 1971, 1983, 1995, 2007, 2019, 2031]
        };

        // 年份与五行对应表
        const yearElement = {
            0: '金', 1: '金', 
            2: '水', 3: '水', 
            4: '木', 5: '木', 
            6: '火', 7: '火', 
            8: '土', 9: '土'
        };

        // 日期与生肖对应
        function getZodiac(year) {
            for (const [zodiac, years] of Object.entries(zodiacYears)) {
                if (years.includes(year)) {
                    return zodiac;
                }
            }
            // 如果没有直接匹配，计算生肖
            const base = (year - 4) % 12;
            const zodiacArray = ['鼠', '牛', '虎', '兔', '龙', '蛇', '马', '羊', '猴', '鸡', '狗', '猪'];
            return zodiacArray[base];
        }
        
        // 中文生肖翻译成英文
        function translateZodiac(chineseZodiac) {
            const translations = {
                '鼠': 'Rat',
                '牛': 'Ox',
                '虎': 'Tiger',
                '兔': 'Rabbit',
                '龙': 'Dragon',
                '蛇': 'Snake',
                '马': 'Horse',
                '羊': 'Goat',
                '猴': 'Monkey',
                '鸡': 'Rooster',
                '狗': 'Dog',
                '猪': 'Pig'
            };
            return translations[chineseZodiac] || chineseZodiac;
        }

        // 获取五行属性
        function getElement(year) {
            const lastDigit = year % 10;
            return yearElement[lastDigit];
        }
        
        // 中文五行翻译成英文
        function translateElement(chineseElement) {
            const translations = {
                '金': 'Metal',
                '木': 'Wood',
                '水': 'Water',
                '火': 'Fire',
                '土': 'Earth'
            };
            return translations[chineseElement] || chineseElement;
        }

        // 初始化日期选择器
        function initDateSelectors() {
            const currentYear = new Date().getFullYear();
            
            // 年份选择器
            const yearSelectors = [document.getElementById('year1'), document.getElementById('year2')];
            for (let i = currentYear - 100; i <= currentYear; i++) {
                yearSelectors.forEach(selector => {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = i;
                    if (i === currentYear - 30) option.selected = true;
                    selector.appendChild(option);
                });
            }
            
            // 月份选择器
            const monthSelectors = [document.getElementById('month1'), document.getElementById('month2')];
            for (let i = 1; i <= 12; i++) {
                monthSelectors.forEach(selector => {
                    const option = document.createElement('option');
                    option.value = i;
                    // 英文月份名称
                    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                    option.textContent = monthNames[i-1];
                    selector.appendChild(option);
                });
            }
            
            // 日期选择器
            updateDayOptions('month1', 'year1', 'day1');
            updateDayOptions('month2', 'year2', 'day2');
            
            // 添加事件监听器
            document.getElementById('month1').addEventListener('change', () => updateDayOptions('month1', 'year1', 'day1'));
            document.getElementById('year1').addEventListener('change', () => updateDayOptions('month1', 'year1', 'day1'));
            document.getElementById('month2').addEventListener('change', () => updateDayOptions('month2', 'year2', 'day2'));
            document.getElementById('year2').addEventListener('change', () => updateDayOptions('month2', 'year2', 'day2'));
        }

        // 更新日期选择器
        function updateDayOptions(monthId, yearId, dayId) {
            const month = parseInt(document.getElementById(monthId).value);
            const year = parseInt(document.getElementById(yearId).value);
            const daySelect = document.getElementById(dayId);
            
            // 清空现有选项
            daySelect.innerHTML = '';
            
            // 计算当月天数
            let daysInMonth;
            if ([4, 6, 9, 11].includes(month)) {
                daysInMonth = 30;
            } else if (month === 2) {
                daysInMonth = ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) ? 29 : 28;
            } else {
                daysInMonth = 31;
            }
            
            // 添加选项
            for (let i = 1; i <= daysInMonth; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                daySelect.appendChild(option);
            }
        }

        // 计算配对得分
        function calculateCompatibility() {
            // 获取输入的日期
            const year1 = parseInt(document.getElementById('year1').value);
            const year2 = parseInt(document.getElementById('year2').value);
            
            // 获取生肖
            const zodiac1 = getZodiac(year1);
            const zodiac2 = getZodiac(year2);
            
            // 获取五行
            const element1 = getElement(year1);
            const element2 = getElement(year2);
            
            // 计算生肖配对得分
            const zodiacScore = zodiacCompatibility[zodiac1][zodiac2];
            
            // 计算五行配对得分
            const elementScore = fiveElementsCompatibility[element1][element2];
            
            // 计算日期和月份因素 (简化版)
            const month1 = parseInt(document.getElementById('month1').value);
            const month2 = parseInt(document.getElementById('month2').value);
            const day1 = parseInt(document.getElementById('day1').value);
            const day2 = parseInt(document.getElementById('day2').value);
            
            // 月份相合度
            let monthCompatibility = 70;
            const monthDiff = Math.abs(month1 - month2);
            if (monthDiff === 0) {
                monthCompatibility = 85; // 同月出生
            } else if (monthDiff === 6) {
                monthCompatibility = 60; // 相对月份
            } else if (monthDiff === 3 || monthDiff === 9) {
                monthCompatibility = 75; // 季节关系
            }
            
            // 日期相合度
            let dayCompatibility = 70;
            const dayDiff = Math.abs(day1 - day2);
            if (dayDiff === 0) {
                dayCompatibility = 85; // 同日出生
            } else if (dayDiff <= 3) {
                dayCompatibility = 80; // 接近的日期
            } else if (dayDiff >= 15) {
                dayCompatibility = 65; // 相距较远的日期
            }
            
            // 综合得分计算
            const totalScore = Math.round(
                (zodiacScore * 0.4) +  // 生肖权重40%
                (elementScore * 0.3) + // 五行权重30%
                (monthCompatibility * 0.15) + // 月份权重15%
                (dayCompatibility * 0.15)     // 日期权重15%
            );
            
            // 展示结果
            displayResults(zodiac1, zodiac2, element1, element2, zodiacScore, elementScore, monthCompatibility, dayCompatibility, totalScore);
        }

        // 显示结果
        function displayResults(zodiac1, zodiac2, element1, element2, zodiacScore, elementScore, monthScore, dayScore, totalScore) {
            const resultSection = document.getElementById('result-section');
            
            // 基于总分的评价
            let scoreComment = '';
            if (totalScore >= 90) {
                scoreComment = 'A match made in heaven! Your connection seems divinely arranged, with an irresistible magnetic attraction that promises an extraordinarily happy future together.';
            } else if (totalScore >= 80) {
                scoreComment = 'Perfect partners! Your relationship is harmonious and stable, with aligned values and remarkable chemistry that will create a beautiful life together.';
            } else if (totalScore >= 70) {
                scoreComment = 'Wonderfully matched! Despite occasional differences, you naturally get along harmoniously, understanding each other like fish to water.';
            } else if (totalScore >= 60) {
                scoreComment = 'Destined companions! Your relationship has challenges but also delightful surprises - with heartfelt communication, you will overcome difficulties and elevate each other.';
            } else if (totalScore >= 50) {
                scoreComment = 'A relationship worth nurturing. Your meeting is fated, but your journey requires deeper understanding and acceptance, with mutual effort to maintain your bond.';
            } else {
                scoreComment = 'A unique connection. You may have significant differences in many aspects, but true love can transcend all obstacles - with extra dedication, you might create an unexpected miracle together.';
            }
            
                         // 设置圆环进度条百分比
            const scorePercentage = `${totalScore}%`;
            
            // 创建结果HTML
            resultSection.innerHTML = `
                <div class="result-header">
                    <h3>Compatibility Results</h3>
                    <p>Comprehensive analysis based on Chinese Zodiac & BaZi</p>
                </div>
                
                <div class="compatibility-score" style="--score: ${scorePercentage}">
                    <div class="score-text">${totalScore}</div>
                </div>
                
                <p class="score-comment">${scoreComment}</p>
                
                <div class="compatibility-details">
                    <div class="compatibility-item">
                        <h4>Zodiac Compatibility</h4>
                        <p>You are a <strong>${translateZodiac(zodiac1)}</strong>, your partner is a <strong>${translateZodiac(zodiac2)}</strong></p>
                        <p>Zodiac harmony score: <strong>${zodiacScore}</strong>/100</p>
                        <p>${getZodiacCompatibilityComment(zodiacScore)}</p>
                    </div>
                    
                    <div class="compatibility-item">
                        <h4>Five Elements Compatibility</h4>
                        <p>Your element is <strong>${translateElement(element1)}</strong>, your partner's element is <strong>${translateElement(element2)}</strong></p>
                        <p>Element harmony score: <strong>${elementScore}</strong>/100</p>
                        <p>${getElementCompatibilityComment(element1, element2)}</p>
                    </div>
                    
                    <div class="compatibility-item">
                        <h4>Date Factors</h4>
                        <p>Month compatibility: <strong>${monthScore}</strong>/100</p>
                        <p>Day compatibility: <strong>${dayScore}</strong>/100</p>
                    </div>
                </div>
                
                <div class="recommendation">
                    <h4>Relationship Advice</h4>
                    <p>${getLoveAdvice(totalScore, zodiac1, zodiac2)}</p>
                </div>
            `;
            
            // 显示结果部分
            resultSection.classList.add('active');
            resultSection.scrollIntoView({ behavior: 'smooth' });
        }

        // 生肖配对评价
        function getZodiacCompatibilityComment(score) {
            if (score >= 90) {
                return 'Your zodiac compatibility is extraordinarily high, like a perfect match made in heaven. Your mutual understanding and support provide a solid foundation for love - truly a destined connection!';
            } else if (score >= 75) {
                return 'Your zodiac signs are highly compatible, with complementary personalities that naturally fit together, forming an excellent foundation for a loving relationship. True love finds its way!';
            } else if (score >= 60) {
                return 'Your zodiac relationship shows moderate compatibility, with both commonalities and differences that require harmonizing. This balance is precisely what makes your relationship interesting and dynamic.';
            } else if (score >= 45) {
                return 'Your zodiac signs have some conflicts that require greater tolerance and understanding. However, these very challenges can potentially deepen your emotional bond through growth together.';
            } else {
                return 'Your zodiac signs clash in certain ways, potentially causing significant differences in personality and approaches to life. Yet these complementary aspects might bring unexpected joys and mutual growth.';
            }
        }

        // 五行配对评价
        function getElementCompatibilityComment(element1, element2) {
            if (element1 === element2) {
                return 'You share identical elemental attributes, like looking in a mirror. You effortlessly understand each other\'s thoughts, share similar approaches to life, and possess remarkably aligned values. Your natural harmony is truly exceptional!';
            }
            
            const relationships = {
                '金水': 'Metal generates Water: Like life-giving rain, your relationship is filled with nourishment and support. You give each other strength and confidence, shining brilliantly together like precious metals.',
                '水金': 'Water enhances Metal: Like water carrying a boat, you provide mutual support and confidence, growing together and creating a dazzling future.',
                '木火': 'Wood feeds Fire: Your relationship is filled with passion and creativity, burning bright with motivation like a powerful flame, inspiring each other\'s potential.',
                '火木': 'Fire enhances Wood: Like a gentle spring breeze, your enthusiasm propels each other forward, creating a vibrant love journey.',
                '火土': 'Fire creates Earth: Like sunshine warming the ground, you build a solid relationship foundation through emotional exchange, perfectly complementing each other.',
                '土火': 'Earth supports Fire: Stability containing passion, your relationship is like a volcano gathering strength - secure yet intensely passionate.',
                '土金': 'Earth bears Metal: Like a hidden gold mine, you can create value together, building an abundant life on solid foundations.',
                '金土': 'Metal enhances Earth: You help each other build a stable life, like fine jade and its pedestal, perfectly complementing one another.',
                '水木': 'Water nourishes Wood: Like spring rain on a forest, your relationship is full of vitality and growth, with limitless possibilities together.',
                '木水': 'Wood enhances Water: Like a flowing stream, your relationship is fluid and dynamic, together creating life\'s miracles.',
                '金木': 'Metal challenges Wood: Like a blade cutting wood, you may experience differences in decision-making and action styles, requiring mutual understanding.',
                '木金': 'Wood challenges Metal: Like roots breaking soil, your values and lifestyles may differ, requiring mutual respect.',
                '木土': 'Wood parts Earth: Like roots through soil, you may need to find balance between stability and adventure, requiring more communication.',
                '土木': 'Earth restricts Wood: Like confined growth, your life rhythms and development patterns may differ, requiring you to give each other space.',
                '土水': 'Earth blocks Water: Like a dam restraining water, you may have differences in emotional expression and fluidity, requiring breaking through barriers.',
                '水土': 'Water erodes Earth: Like water washing away soil, you may have different needs for security and freedom, requiring finding balance.',
                '水火': 'Water extinguishes Fire: Like dousing flames, tension may exist between rationality and passion, requiring new ways to express feelings.',
                '火水': 'Fire evaporates Water: Like steam rising, your emotional expression and communication styles may need adjustment to find resonance.',
                '火金': 'Fire melts Metal: Like melting ore, your values and lifestyles may differ, requiring mutual compromise.',
                '金火': 'Metal controls Fire: Like containing flames, your expression styles and passion levels may differ, requiring mutual understanding.'
            };
            
            return relationships[element1 + element2] || 'Your Five Elements relationship is complex and unique, like a destined connection that requires careful nurturing to transform challenges into beautiful harmony.';
        }

        // 爱情建议
        function getLoveAdvice(score, zodiac1, zodiac2) {
            const generalAdvice = [
                'Honest communication is the key to sustaining your relationship. Try to understand each other\'s inner thoughts and feelings, becoming each other\'s confidant.',
                'Accept your differences while finding common interests and values, bringing your hearts closer together every day.',
                'Give each other sufficient space and freedom while maintaining emotional connection. Like an elastic band, a flexible love lasts longer.',
                'Set long-term goals together and work toward them. This shared journey will strengthen your relationship\'s foundation.',
                'Provide support and encouragement during difficult times. Facing challenges together will make your love unbreakable.',
                'Find a reason to say "I love you" every day, even for something as simple as pouring a glass of water. A grateful heart is the most beautiful.',
                'Create surprises and romance. Even a handwritten note or a wildflower can brighten ordinary days and keep your connection fresh.',
                'Learn to express love in ways your partner appreciates. Understanding each other\'s love languages helps love flow more effectively.',
                'Try new things together - whether it\'s recipes, travel destinations, or hobbies. Novelty is the spice of a loving relationship.',
                'Don\'t go to sleep angry after an argument. Reconcile first to prevent small conflicts from growing into larger problems. Love is tolerance and understanding.'
            ];
            
            let specificAdvice = '';
            
            if (score >= 85) {
                specificAdvice = 'Your compatibility score is exceptionally high! Cherish this rare soul connection. Even though you get along beautifully, continue exploring and growing together to keep your relationship fresh, like a gardener tenderly caring for a beautiful garden.';
            } else if (score >= 70) {
                specificAdvice = 'You have an excellent foundation for your relationship, like a solidly built bridge connecting your hearts. Focus on leveraging your individual strengths, appreciating and learning from each other, allowing your love to mature like fine wine, growing richer with time.';
            } else if (score >= 55) {
                specificAdvice = 'Your relationship has challenges but is full of possibilities, like a budding flower waiting to bloom. Practice empathy by putting yourself in each other\'s shoes, understanding each other\'s needs and feelings. Overcoming difficulties together may yield the most delightful fruits of love.';
            } else {
                specificAdvice = 'Though your compatibility score seems low, true love can overcome all obstacles, like plants breaking through rock to grow. If you truly love each other, you\'ll need extra patience and acceptance, along with establishing good communication patterns to create your own love miracle.';
            }
            
            // 根据生肖特点给出具体建议
            const zodiacAdvice = {
                '鼠': 'Your adaptable and sociable nature serves you well, but be careful not to be too calculating. Learn to express feelings genuinely, communicating sincerely rather than cleverly maneuvering.',
                '牛': 'Your reliability and steadiness are your strengths, but sometimes you can be too stubborn. Learn to compromise appropriately and embrace new things, adding freshness to your relationship.',
                '虎': 'Your courage and decisiveness make you charismatic, but control your temper and provide your partner with more security. A gentle gaze is more powerful than a roaring presence.',
                '兔': 'Your gentle and considerate nature is innate, but sometimes you\'re overly sensitive. Learn to express your needs directly rather than always putting yourself last.',
                '龙': 'Your confidence and charm make you radiant, but be careful not to be too self-centered. Learn to listen to and respect your partner\'s opinions, becoming a thoughtful dragon.',
                '蛇': 'Your wisdom and thoughtfulness are your characteristics, but sometimes you\'re too cautious. Learn to be more open and trusting with your partner, loving without reservations.',
                '马': 'Full of energy and optimism, but you may lack patience. Learn to persevere and take responsibility, not giving up on love easily when facing difficulties.',
                '羊': 'Your kindness and creativity make you charming, but sometimes you\'re indecisive. Develop independence and decisiveness, becoming a leader in your relationship.',
                '猴': 'Your cleverness and versatility make you attractive, but sometimes you\'re too active. Learn to calm down and focus on your relationship, becoming a devoted partner.',
                '鸡': 'Your meticulousness is your trademark, but sometimes you\'re too demanding. Learn to accept imperfection and appreciate your partner\'s uniqueness.',
                '狗': 'Loyalty and reliability are your greatest strengths, but sometimes you\'re too suspicious. Learn to trust and let go, not holding onto love too tightly.',
                '猪': 'Your honesty and kindness bring warmth to others, but sometimes you\'re too idealistic. Learn to face realistic challenges and nurture your relationship with practical efforts.'
            };
            
            return `${specificAdvice}<br><br>For you (${translateZodiac(zodiac1)}): ${zodiacAdvice[zodiac1]}<br><br>For your partner (${translateZodiac(zodiac2)}): ${zodiacAdvice[zodiac2]}<br><br>✨ Love Treasure Box ✨<br>${generalAdvice[Math.floor(Math.random() * generalAdvice.length)]}`;
        }

        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            initDateSelectors();
            document.getElementById('calculate-btn').addEventListener('click', calculateCompatibility);
        });
    </script>
</body>
</html> 